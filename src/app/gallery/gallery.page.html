<ion-header>
  <ion-toolbar>
      <ion-buttons slot="start">
          <ion-button (click)="this.transServe.backButtonTrans()">
              <ion-icon slot="start" name="arrow-round-back"></ion-icon>            
          </ion-button>     
      </ion-buttons>
    <ion-title>Gallery</ion-title>
    
  </ion-toolbar>
  <ion-segment [(ngModel)]="galleryType" color="primary">
    <ion-segment-button value="regular">
          <ion-icon name="image"></ion-icon>
      </ion-segment-button>  
    <ion-segment-button value="pinterest">
        <ion-icon name="grid"></ion-icon>
      </ion-segment-button>        
  </ion-segment>
</ion-header>

<ion-content>
    <ion-fab horizontal="end" vertical="bottom" slot="fixed" >
        <ion-fab-button color="primary">
          <ion-icon name="camera"></ion-icon>
        </ion-fab-button>
        <ion-fab-list side="top">
          <ion-fab-button (click)="openImagePicker()"color="primary" data-desc="Upload Image">
            <ion-icon name="image"></ion-icon>
          </ion-fab-button>
          <ion-fab-button (click)="openImagePicker()"color="primary" data-desc="My Uploads">
            <ion-icon name="photos"></ion-icon>     
          </ion-fab-button>        
          <!-- <ion-fab-button (click)="imageUploadTest()"color="primary" data-desc="Test Upload">
            <ion-icon name="photos"></ion-icon>     
          </ion-fab-button>    -->
        </ion-fab-list>
      </ion-fab>
   
    <br>
    <div [ngSwitch]="galleryType">
      <!-- Responsive Layout with Ion Grid-->
        <div class="images-single" *ngSwitchCase="'regular'">
          <div class="single-count-image" *ngFor="let post of (GalleryPosts | async); trackBy: trackByCreated" >
              <ion-card no-padding> 
                <ion-card-header>               
                    <ion-item lines="none" no-padding >
                        <ion-avatar slot="start">
                            <img class="profile-img" src="assets/images/avatar.svg">
                        </ion-avatar>
                        <ion-label>
                          <!-- {{post.uploaded_by}} -->
                          {{post.user.first_name}} {{post.user.last_name}} 
                          <p>{{ post.date_uploaded | date:'short' }}</p>
                        </ion-label>                 
                        <ion-icon name="more" slot="end" (click)="presentActionSheet(post)"></ion-icon>         
                    </ion-item>   
                  </ion-card-header>
                  <ion-card-content>
                    <img src="{{post.url}}">
                  </ion-card-content>                  
              </ion-card>
          </div>
        </div>     
        <div class="images" *ngSwitchCase="'pinterest'">    
            <div class="one-image"  *ngFor="let post of (GalleryPosts | async) trackBy: trackByCreated">
              <img src="{{post.url}}">
            </div>
        </div>        
      <br>       
      <!-- More Pinterest floating gallery style -->   
    </div>
  </ion-content>
