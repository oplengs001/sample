<ion-header>
    <ion-toolbar mode="ios">
    <ion-buttons slot="start">
            <ion-button (click)="this.transServe.backButtonTrans()">
                <ion-icon slot="start" name="ios-arrow-back"></ion-icon>            
            </ion-button>     
        </ion-buttons>
      <ion-title>
        {{content}}
      </ion-title>
    </ion-toolbar>
  </ion-header>

<ion-content > 
    <div [hidden]="!Dining">
      <ion-card class="content-card">
          <ion-card-header > 
            <ion-card-title  class="ion-text-center"> Tom & Ingga's <br>Top Recommended Restaurants</ion-card-title>              
          </ion-card-header>   
      </ion-card>   
      <ion-card class="content-card" *ngFor="let resto of topResto" (click)="OpenDining(resto)">
          <ion-img src="{{resto.image_url}}"></ion-img>
          <ion-card-header> 
            <ion-card-title>{{resto.name}}</ion-card-title>    
            <ion-card-subtitle>{{resto.location}}</ion-card-subtitle>
          </ion-card-header>   
      </ion-card>     
      <ion-card class="content-card">
          <ion-card-header> 
            <ion-card-subtitle class="ion-text-center">see more at <br><a href="https://www.queenstownnz.co.nz/places-to-eat-and-drink/">queenstown places to Eat & Drink </a></ion-card-subtitle>
          </ion-card-header>   
      </ion-card> 
    </div>
    <div [hidden]="!Itinerary">  
        <div *ngIf="(events|async)?.length !== 0;else items">
          <ion-card class="wedding-info" *ngFor="let event of (event_data   | sort :'asc':'position')" >          
              <img src="{{event.image_url}}" alt="" />
                <ion-card-header>
                  <ion-card-title >
                      <ion-input class="card-title-input"
                        [(ngModel)]="event.name"  
                        (ionBlur)="saveItem(event)"
                        readonly="{{!isAdmin}}"
                        ></ion-input>
                    </ion-card-title>        
                </ion-card-header>   
                <ion-item class="details-card">
                    <ion-icon name="time" slot="start"  color="medium"></ion-icon>        
                        <ion-input   
                        [(ngModel)]="event.schedule"      
                        (ionBlur)="saveItem(event)"            
                        readonly="{{!isAdmin}}"
                        ></ion-input>     
                  </ion-item> 
                <ion-item class="details-card">
                    <ion-icon name="map" slot="start"  color="medium"></ion-icon>        
                        <ion-input   
                        [(ngModel)]="event.location"    
                        (ionBlur)="saveItem(event)"              
                        readonly="{{!isAdmin}}"
                        ></ion-input>     
                </ion-item>                                      
                <ion-card-content>        
                  <ion-textarea class="ion-text-justify" autoGrow=true  
                  [(ngModel)]="event.details"
                  (ionBlur)="saveItem(event)"
                  readonly="{{!isAdmin}}"
                  ></ion-textarea>        
                </ion-card-content>        
          </ion-card>                                                                   
        </div>   
      <!-- <div *ngIf="(events|async)?.length !== 0;else items"> 
        <ion-reorder-group  (ionItemReorder)="doReorder($event)" disabled="false" *ngIf="isAdmin;else nonAdmin">              
                <ion-card class="content-card" *ngFor="let event of (event_data   | sort :'asc':'position')" >  
                    <ion-item lines="none"> 
                        <ion-reorder slot=start></ion-reorder> 
                        <ion-icon name="more" slot=end (click)="eventOptions(event)"></ion-icon>
                    </ion-item>      
                    <ion-img class="admin-img"src="{{event.image_url}}"></ion-img>
                    <ion-card-header> 
                      <ion-card-title>{{event.name}}</ion-card-title>    
                      <ion-card-subtitle>Time: {{event.schedule}} </ion-card-subtitle>
                      <ion-card-subtitle>{{event.location}}</ion-card-subtitle>
                    </ion-card-header> 
                </ion-card>                                                                     
        </ion-reorder-group>    
        <ng-template #nonAdmin>
            <ion-card  *ngFor="let event of (event_data  | sort :'asc':'position' )" (click)="expandItem(event)"  class="itinerary-card">                                
              <ion-card-header>    
                <ion-item lines="none" class="itinerary-item">
                    <ion-card-title  class="schedule" slot="end">{{event.schedule}} <ion-icon  name="ios-arrow-down"></ion-icon></ion-card-title>                    
                    <ion-card-title class="event-name">{{event.name}}</ion-card-title>
                </ion-item>
              </ion-card-header>
              <ion-card-content class="content-card">
                  <app-expandable expandHeight="100vh" [expanded]="event.expanded">  
                  <ion-img src="{{event.image_url}}"></ion-img>
                  <br>        
                  <div class="ion-text-justify" style="font-size: 12px;">{{event.location}}
                      <ion-text *ngIf="event.name === 'Pre-Dinner Drinks'" class="ion-text-justify" style="font-size: 12px;"> at <a (click)=openReception()>The Grille at Eichardt</a></ion-text>
                  </div>                                              
                  <div *ngIf="event.name === 'Ceremony'" class="ion-text-justify" style="font-size: 12px;"><br>From central queenstown to Jackâ€™s retreat for those who want to drive there themselves <a (click)=openMap()>"Get There"</a></div>                    
                  </app-expandable>
              </ion-card-content>                        
            </ion-card> 
        </ng-template>   
      </div>
      <ion-button *ngIf="isAdmin"expand="full" color="dark" (click)="addEvent()">ADD EVENT</ion-button>    
      <ng-template #items>
          <ion-img src="/assets/images/itenerary/slide.png"></ion-img>
          <h2 class="ion-text-center">To Be Announce!</h2>
          <p class="ion-text-center"><b>Wait for further Announcement</b><br>
             you will be notified when Events are added in this Itinerary!</p>
      </ng-template>   -->
    </div>
</ion-content>
